<?xml version="1.0" encoding="UTF-8"?>
<iswe-generators xmlns="http://www.iswe.co.nz/isweframework/xsd/iswe-generator-1.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="
		http://www.iswe.co.nz/isweframework/xsd/iswe-generator-1.0.0
		./iswe-generator.xsd">

	<generatorContext>nz.co.iswe.generator.impl.eclipse.EclipseGeneratorContext</generatorContext>
	<entityInfoFactory>nz.co.iswe.generator.impl.eclipse.jpa.EclipseJpaEntityInfoFactory</entityInfoFactory>
	
	
	<groups>
		<group id="Model">
			<generator ref="JpaDAO_Abstract" />
			<generator ref="JpaDAO_Impl" />
			<generator ref="JpaDAO_Interface" />
		</group>
		<group id="ControllerLayer">
			<generator ref="JpaDAO_Abstract" />
			<generator ref="HibernateConfig" />
		</group>
	</groups>

	<oneToOne>
		<generator id="JpaDAO_Abstract" class="nz.co.iswe.generator.impl.jpa.JpaDAOGenerator">
			<input type="velocity">
				<filename>JpaDAOAbstract.vm</filename>
			</input>

			<output override="always"/>
<!-- 
			<helpers>
				
					contextName is used inside the template:
					${dao.getSomething()}
				
				<helper ref="JpaDAOHelper" contextName="dao" />
				 
			</helpers>
			-->

			<!-- Generator Local Properties -->
			<properties>
				<sufixToRemove>Entity</sufixToRemove>
				<!-- 
					The generator object in the expression is the Generator object instance.
					${generator.getPackage()} will return the dao package by using the 
					entity package and doing a replace with the packageTo literal
					the entity object in the expression is the entity object being
					processed in the moment.
					${entity.simpleName} return the entity name without the package
				-->
				<fullyQualifiedName>${generator.getPackage($entity)}.${generator.getEntityPrefixName($entity)}DAOAbstract</fullyQualifiedName>
				<!--
				 	packageFrom is a regular expression to define what portion of the
				 	entity package will be replaced with the content of the property packageTo
				 -->
				<packageFrom>entities</packageFrom>
				<!-- Literal value to be used to replace the entity package -->
				<packageTo>dao</packageTo>
			</properties>
		</generator>
		
		<generator id="JpaDAO_Impl" class="nz.co.iswe.generator.impl.jpa.JpaDAOGenerator">
			<input type="velocity">
				<filename>JpaDAOImpl.vm</filename>
			</input>

			<output override="no"/>

			<helpers>
				<!-- 
					contextName is used inside the template:
					${dao.getSomething()}
				 -->
				<helper ref="JpaDAOHelper" contextName="dao" />
			</helpers>

			<!-- Generator Local Properties -->
			<properties>
				<sufixToRemove>Entity</sufixToRemove>
				<fullyQualifiedName>${generator.getPackage($entity)}.${generator.getEntityPrefixName($entity)}DAOImpl</fullyQualifiedName>
				<packageFrom>entities</packageFrom>
				<packageTo>dao</packageTo>
			</properties>
		</generator>
		
		<generator id="JpaDAO_Interface" class="nz.co.iswe.generator.impl.jpa.JpaDAOGenerator">
			<input type="velocity">
				<filename>JpaDAOInterface.vm</filename>
			</input>

			<output override="no"/>

			<helpers>
				<!-- 
					contextName is used inside the template:
					${dao.getSomething()}
				 -->
				<helper ref="JpaDAOHelper" contextName="dao" />
			</helpers>

			<!-- Generator Local Properties -->
			<properties>
				<sufixToRemove>Entity</sufixToRemove>
				<fullyQualifiedName>${generator.getPackage($entity)}.I${generator.getEntityPrefixName($entity)}DAO</fullyQualifiedName>
				<packageFrom>entities</packageFrom>
				<packageTo>dao</packageTo>
			</properties>
		</generator>
	</oneToOne>


	<manyToOne>
		<generator id="HibernateConfig"
			class="co.nz.iswe.generator.impl.hibrenate.HibernateConfig">
			<input type="velocity">
				<filename>HibernateConfig.vm</filename>
			</input>

			<output override="always"/>
			
			<properties>
				<hibernate.config.filename>hibernate.config.xml</hibernate.config.filename>
			</properties>
		</generator>
	</manyToOne>


	<helpers>
		<helper id="JpaDAOHelper" class="nz.co.iswe.generator.impl.helper.DAOHelper">
			<!-- Pattern Properties -->
			<properties>

			</properties>
		</helper>
	</helpers>

	<!-- Global Properties -->
	<properties>
		<!-- Default values. Can be overridden by a project specific configuration.xml file -->
		<velocity.default.templates>/Users/pentateu/git/iswe-eclipse-plugin/nz.co.iswe.eclipse.plugin/META-INF/templates</velocity.default.templates>
		
		
		
		
		
		
		
		
	</properties>

</iswe-generators>